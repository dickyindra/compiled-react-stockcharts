{"version":3,"sources":["../../../src/lib/utils/index.js"],"names":["default","getLogger","sign","path","functor","createVerticalLinearGradient","getClosestItemIndexes2","degrees","radians","getClosestValue","find","d3Window","getTouchProps","getClosestItemIndexes","getClosestItem","head","tail","last","isDefined","isNotDefined","isObject","touchPosition","mousePosition","clearCanvas","capitalizeFirst","hexToRGBA","toObject","mapValue","mapObject","replaceAtIndex","forOwn","prefix","logger","process","env","NODE_ENV","require","x","yes","loc","key","Array","isArray","length","obj","defaultValue","index","v","stops","moreProps","ctx","height","chartConfig","grd","createLinearGradient","forEach","each","addColorStop","stop","color","array","value","accessor","left","Math","max","right","min","item","PI","inputValue","currentValue","values","diff","map","reduce","diff1","diff2","abs","list","predicate","context","i","call","undefined","node","d3win","ownerDocument","defaultView","document","MOUSEENTER","MOUSELEAVE","MOUSEMOVE","MOUSEUP","TOUCHMOVE","TOUCHEND","touch","pageX","pageY","clientX","clientY","log","lo","hi","mid","round","valueOf","closest","console","overlayColors","slice","first","d","e","container","target","rect","getBoundingClientRect","clientLeft","y","top","clientTop","xy","defaultRect","currentTarget","canvasList","ratio","setTransform","clearRect","canvas","width","scale","str","charAt","toUpperCase","substring","inputHex","opacity","hex","replace","indexOf","multiplier","r","parseInt","g","b","result","iteratee","returnObj","a","object","Object","keys","mappedValue","props","concat"],"mappings":"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","file":"index.js","sourcesContent":["import { scaleOrdinal, schemeCategory10 } from \"d3-scale\";\r\nimport { bisector } from \"d3-array\";\r\nimport noop from \"./noop\";\r\nimport identity from \"./identity\";\r\n\r\nexport { default as rebind } from \"./rebind\";\r\nexport { default as zipper } from \"./zipper\";\r\nexport { default as merge } from \"./merge\";\r\nexport { default as slidingWindow } from \"./slidingWindow\";\r\nexport { default as identity } from \"./identity\";\r\nexport { default as noop } from \"./noop\";\r\nexport { default as shallowEqual } from \"./shallowEqual\";\r\nexport { default as mappedSlidingWindow } from \"./mappedSlidingWindow\";\r\nexport { default as accumulatingWindow } from \"./accumulatingWindow\";\r\nexport { default as PureComponent } from \"./PureComponent\";\r\n\r\nexport * from \"./barWidth\";\r\nexport * from \"./strokeDasharray\";\r\n\r\nexport function getLogger(prefix) {\r\n    let logger = noop;\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        logger = require(\"debug\")(\"react-stockcharts:\" + prefix);\r\n    }\r\n    return logger;\r\n}\r\n\r\nexport function sign(x) {\r\n    return (x > 0) - (x < 0);\r\n}\r\n\r\nexport const yes = () => true;\r\n\r\nexport function path(loc = []) {\r\n    const key = Array.isArray(loc) ? loc : [loc];\r\n    const length = key.length;\r\n\r\n    return function (obj, defaultValue) {\r\n        if (length === 0) return isDefined(obj) ? obj : defaultValue;\r\n\r\n        let index = 0;\r\n        while (obj != null && index < length) {\r\n            obj = obj[key[index++]];\r\n        }\r\n        return index === length ? obj : defaultValue;\r\n    };\r\n}\r\n\r\nexport function functor(v) {\r\n    return typeof v === \"function\" ? v : () => v;\r\n}\r\n\r\nexport function createVerticalLinearGradient(stops) {\r\n    return function (moreProps, ctx) {\r\n        const {\r\n            chartConfig: { height },\r\n        } = moreProps;\r\n\r\n        const grd = ctx.createLinearGradient(0, height, 0, 0);\r\n        stops.forEach((each) => {\r\n            grd.addColorStop(each.stop, each.color);\r\n        });\r\n\r\n        return grd;\r\n    };\r\n}\r\n\r\nexport function getClosestItemIndexes2(array, value, accessor) {\r\n    let left = bisector(accessor).left(array, value);\r\n    left = Math.max(left - 1, 0);\r\n    let right = Math.min(left + 1, array.length - 1);\r\n\r\n    const item = accessor(array[left]);\r\n    if (item >= value && item <= value) right = left;\r\n\r\n    return { left, right };\r\n}\r\n\r\nexport function degrees(radians) {\r\n    return (radians * 180) / Math.PI;\r\n}\r\n\r\nexport function radians(degrees) {\r\n    return (degrees * Math.PI) / 180;\r\n}\r\n\r\nexport function getClosestValue(inputValue, currentValue) {\r\n    const values = isArray(inputValue) ? inputValue : [inputValue];\r\n\r\n    const diff = values\r\n        .map((each) => each - currentValue)\r\n        .reduce((diff1, diff2) =>\r\n            Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2\r\n        );\r\n    return currentValue + diff;\r\n}\r\n\r\nexport function find(list, predicate, context = this) {\r\n    for (let i = 0; i < list.length; ++i) {\r\n        if (predicate.call(context, list[i], i, list)) {\r\n            return list[i];\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n\r\nexport function d3Window(node) {\r\n    const d3win =\r\n        node &&\r\n        ((node.ownerDocument && node.ownerDocument.defaultView) ||\r\n            (node.document && node) ||\r\n            node.defaultView);\r\n    return d3win;\r\n}\r\n\r\nexport const MOUSEENTER = \"mouseenter.interaction\";\r\nexport const MOUSELEAVE = \"mouseleave.interaction\";\r\nexport const MOUSEMOVE = \"mousemove.pan\";\r\nexport const MOUSEUP = \"mouseup.pan\";\r\nexport const TOUCHMOVE = \"touchmove.pan\";\r\nexport const TOUCHEND = \"touchend.pan touchcancel.pan\";\r\n\r\nexport function getTouchProps(touch) {\r\n    if (!touch) return {};\r\n    return {\r\n        pageX: touch.pageX,\r\n        pageY: touch.pageY,\r\n        clientX: touch.clientX,\r\n        clientY: touch.clientY,\r\n    };\r\n}\r\n\r\nexport function getClosestItemIndexes(array, value, accessor, log) {\r\n    if (!value || !array.length) {\r\n        return { left: 0, right: 0 };\r\n    }\r\n\r\n    let lo = 0,\r\n        hi = array.length - 1;\r\n    while (hi - lo > 1) {\r\n        const mid = Math.round((lo + hi) / 2);\r\n        if (accessor(array[mid]) <= value) {\r\n            lo = mid;\r\n        } else {\r\n            hi = mid;\r\n        }\r\n    }\r\n\r\n    // for Date object === does not work, so using the <= in combination with >=\r\n    // the same code works for both dates and numbers\r\n    if (accessor(array[lo]).valueOf() === value.valueOf()) hi = lo;\r\n    if (accessor(array[hi]).valueOf() === value.valueOf()) lo = hi;\r\n\r\n    if (accessor(array[lo]) < value && accessor(array[hi]) < value) lo = hi;\r\n    if (accessor(array[lo]) > value && accessor(array[hi]) > value) hi = lo;\r\n\r\n    if (log) {\r\n        // console.log(lo, accessor(array[lo]), value, accessor(array[hi]), hi);\r\n        // console.log(accessor(array[lo]), lo, value, accessor(array[lo]) >= value);\r\n        // console.log(value, hi, accessor(array[hi]), accessor(array[lo]) <= value);\r\n    }\r\n    // var left = value > accessor(array[lo]) ? lo : lo;\r\n    // var right = gte(value, accessor(array[hi])) ? Math.min(hi + 1, array.length - 1) : hi;\r\n\r\n    // console.log(value, accessor(array[left]), accessor(array[right]));\r\n    return { left: lo, right: hi };\r\n}\r\n\r\nexport function getClosestItem(array, value, accessor, log) {\r\n    const { left, right } = getClosestItemIndexes(array, value, accessor, log);\r\n\r\n    if (left === right) {\r\n        return array[left];\r\n    }\r\n\r\n    const closest =\r\n        Math.abs(accessor(array[left]) - value) <\r\n        Math.abs(accessor(array[right]) - value)\r\n            ? array[left]\r\n            : array[right];\r\n    if (log) {\r\n        console.log(array[left], array[right], closest, left, right);\r\n    }\r\n    return closest;\r\n}\r\n\r\nexport const overlayColors = scaleOrdinal(schemeCategory10);\r\n\r\nexport function head(array, accessor) {\r\n    if (accessor && array) {\r\n        let value;\r\n        for (let i = 0; i < array.length; i++) {\r\n            value = array[i];\r\n            if (isDefined(accessor(value))) return value;\r\n        }\r\n        return undefined;\r\n    }\r\n    return array ? array[0] : undefined;\r\n}\r\n\r\nexport function tail(array, accessor) {\r\n    if (accessor && array) {\r\n        return array.map(accessor).slice(1);\r\n    }\r\n    return array ? array.slice(1) : undefined;\r\n}\r\n\r\nexport const first = head;\r\n\r\nexport function last(array, accessor) {\r\n    if (accessor && array) {\r\n        let value;\r\n        for (let i = array.length - 1; i >= 0; i--) {\r\n            value = array[i];\r\n            if (isDefined(accessor(value))) return value;\r\n        }\r\n        return undefined;\r\n    }\r\n    const length = array ? array.length : 0;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n\r\nexport function isDefined(d) {\r\n    return d !== null && typeof d != \"undefined\";\r\n}\r\n\r\nexport function isNotDefined(d) {\r\n    return !isDefined(d);\r\n}\r\n\r\nexport function isObject(d) {\r\n    return isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\r\n}\r\n\r\nexport const isArray = Array.isArray;\r\n\r\nexport function touchPosition(touch, e) {\r\n    const container = e.target,\r\n        rect = container.getBoundingClientRect(),\r\n        x = touch.clientX - rect.left - container.clientLeft,\r\n        y = touch.clientY - rect.top - container.clientTop,\r\n        xy = [Math.round(x), Math.round(y)];\r\n    return xy;\r\n}\r\n\r\nexport function mousePosition(e, defaultRect) {\r\n    const container = e.currentTarget;\r\n    const rect = defaultRect || container.getBoundingClientRect(),\r\n        x = e.clientX - rect.left - container.clientLeft,\r\n        y = e.clientY - rect.top - container.clientTop,\r\n        xy = [Math.round(x), Math.round(y)];\r\n    return xy;\r\n}\r\n\r\nexport function clearCanvas(canvasList, ratio) {\r\n    canvasList.forEach((each) => {\r\n        each.setTransform(1, 0, 0, 1, 0, 0);\r\n        each.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\r\n        each.scale(ratio, ratio);\r\n    });\r\n}\r\n\r\nexport function capitalizeFirst(str) {\r\n    return str.charAt(0).toUpperCase() + str.substring(1);\r\n}\r\n\r\nexport function hexToRGBA(inputHex, opacity) {\r\n    const hex = inputHex.replace(\"#\", \"\");\r\n    if (inputHex.indexOf(\"#\") > -1 && (hex.length === 3 || hex.length === 6)) {\r\n        const multiplier = hex.length === 3 ? 1 : 2;\r\n\r\n        const r = parseInt(hex.substring(0, 1 * multiplier), 16);\r\n        const g = parseInt(hex.substring(1 * multiplier, 2 * multiplier), 16);\r\n        const b = parseInt(hex.substring(2 * multiplier, 3 * multiplier), 16);\r\n\r\n        const result = `rgba(${r}, ${g}, ${b}, ${opacity})`;\r\n\r\n        return result;\r\n    }\r\n    return inputHex;\r\n}\r\n\r\nexport function toObject(array, iteratee = identity) {\r\n    return array.reduce((returnObj, a) => {\r\n        const [key, value] = iteratee(a);\r\n        return {\r\n            ...returnObj,\r\n            [key]: value,\r\n        };\r\n    }, {});\r\n}\r\n\r\n// copied from https://github.com/lodash/lodash/blob/master/mapValue.js\r\nexport function mapValue(object, iteratee) {\r\n    object = Object(object);\r\n    // eslint-disable-next-line prefer-const\r\n    let result = {};\r\n\r\n    Object.keys(object).forEach((key) => {\r\n        const mappedValue = iteratee(object[key], key, object);\r\n\r\n        if (isDefined(mappedValue)) {\r\n            result[key] = mappedValue;\r\n        }\r\n    });\r\n    return result;\r\n}\r\n\r\n// copied from https://github.com/lodash/lodash/blob/master/mapObject.js\r\nexport function mapObject(object = {}, iteratee = identity) {\r\n    const props = Object.keys(object);\r\n\r\n    // eslint-disable-next-line prefer-const\r\n    let result = new Array(props.length);\r\n\r\n    props.forEach((key, index) => {\r\n        result[index] = iteratee(object[key], key, object);\r\n    });\r\n    return result;\r\n}\r\n\r\nexport function replaceAtIndex(array, index, value) {\r\n    if (isDefined(array) && array.length > index) {\r\n        return array\r\n            .slice(0, index)\r\n            .concat(value)\r\n            .concat(array.slice(index + 1));\r\n    }\r\n    return array;\r\n}\r\n\r\n// copied from https://github.com/lodash/lodash/blob/master/forOwn.js\r\nexport function forOwn(obj, iteratee) {\r\n    const object = Object(obj);\r\n    Object.keys(object).forEach((key) => iteratee(object[key], key, object));\r\n}\r\n"]}