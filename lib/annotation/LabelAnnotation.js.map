{"version":3,"sources":["../../../src/lib/annotation/LabelAnnotation.js"],"names":["helper","LabelAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","textAnchor","fontFamily","fontSize","opacity","rotate","xAccessor","xPos","yPos","fill","text","tooltip","x","y","plotData","xFunc","yFunc","propTypes","string","oneOfType","func","number","object","defaultProps"],"mappings":"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","file":"LabelAnnotation.js","sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { functor } from \"../utils\";\r\n\r\nclass LabelAnnotation extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t}\r\n\thandleClick(e) {\r\n\t\tconst { onClick } = this.props;\r\n\r\n\t\tif (onClick) {\r\n\t\t\tconst { xScale, yScale, datum } = this.props;\r\n\t\t\tonClick({ xScale, yScale, datum }, e);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { className, textAnchor, fontFamily, fontSize, opacity, rotate } = this.props;\r\n\t\tconst { xAccessor, xScale, yScale } = this.props;\r\n\r\n\t\tconst { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\r\n\r\n\t\treturn (<g className={className}>\r\n\t\t\t<title>{tooltip}</title>\r\n\t\t\t<text x={xPos} y={yPos}\r\n\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}\r\n\t\t\t\tfill={fill}\r\n\t\t\t\topacity={opacity}\r\n\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\r\n\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\ttextAnchor={textAnchor}>{text}</text>\r\n\t\t</g>);\r\n\t}\r\n}\r\n\r\nexport function helper(props, xAccessor, xScale, yScale) {\r\n\tconst { x, y, datum, fill, text, tooltip, plotData } = props;\r\n\r\n\tconst xFunc = functor(x);\r\n\tconst yFunc = functor(y);\r\n\r\n\tconst [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\r\n\r\n\treturn {\r\n\t\txPos,\r\n\t\tyPos,\r\n\t\ttext: functor(text)(datum),\r\n\t\tfill: functor(fill)(datum),\r\n\t\ttooltip: functor(tooltip)(datum),\r\n\t};\r\n}\r\n\r\nLabelAnnotation.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\ttext: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.func\r\n\t]),\r\n\ttextAnchor: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\topacity: PropTypes.number,\r\n\trotate: PropTypes.number,\r\n\tonClick: PropTypes.func,\r\n\txAccessor: PropTypes.func,\r\n\txScale: PropTypes.func,\r\n\tyScale: PropTypes.func,\r\n\tdatum: PropTypes.object,\r\n\tx: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.func\r\n\t]),\r\n\ty: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.func\r\n\t])\r\n};\r\n\r\nexport const defaultProps = {\r\n\ttextAnchor: \"middle\",\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\tfontSize: 12,\r\n\tfill: \"#000000\",\r\n\topacity: 1,\r\n\trotate: 0,\r\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\r\n};\r\n\r\nLabelAnnotation.defaultProps = {\r\n\t...defaultProps,\r\n\tclassName: \"react-stockcharts-labelannotation\",\r\n};\r\n\r\nexport default LabelAnnotation;\r\n"]}