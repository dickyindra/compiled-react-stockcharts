{"version":3,"sources":["../../../../src/lib/indicator/change.js"],"names":["rebind","merge","change","baseIndicator","ALGORITHM_TYPE","base","type","underlyingAlgorithm","mergedAlgorithm","algorithm","datum","indicator","absoluteChange","percentChange","data","options"],"mappings":";;AAEA,SAASA,MAAT,EAAiBC,KAAjB,QAA8B,UAA9B;;AAEA,SAASC,MAAT,QAAuB,eAAvB;;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,IAAMC,iBAAiB,QAAvB;;AAEA,eAAe,YAAW;;AAEzB,KAAMC,OAAOF,gBACXG,IADW,CACNF,cADM,CAAb;;AAGA,KAAMG,sBAAsBL,QAA5B;;AAEA,KAAMM,kBAAkBP,QACtBQ,SADsB,CACZF,mBADY,EAEtBN,KAFsB,CAEhB,UAACS,KAAD,EAAQC,SAAR,EAAsB;AAC5BD,QAAME,cAAN,GAAuBD,UAAUC,cAAjC;AACAF,QAAMG,aAAN,GAAsBF,UAAUE,aAAhC;AACA,EALsB,CAAxB;;AAOA,KAAMF,YAAY,SAAZA,SAAY,CAASG,IAAT,EAA0C;AAAA,MAA3BC,OAA2B,uEAAjB,EAAEd,OAAO,IAAT,EAAiB;;AAC3D,MAAIc,QAAQd,KAAZ,EAAmB;AAClB,UAAOO,gBAAgBM,IAAhB,CAAP;AACA;AACD,SAAOP,oBAAoBO,IAApB,CAAP;AACA,EALD;AAMAd,QAAOW,SAAP,EAAkBN,IAAlB,EAAwB,IAAxB,EAA8B,UAA9B,EAA0C,QAA1C,EAAoD,MAApD,EAA4D,MAA5D,EAAoE,MAApE;AACAL,QAAOW,SAAP,EAAkBJ,mBAAlB,EAAuC,SAAvC;AACAP,QAAOW,SAAP,EAAkBH,eAAlB,EAAmC,OAAnC,EAA4C,eAA5C;;AAEA,QAAOG,SAAP;AACA","file":"change.js","sourcesContent":["\r\n\r\nimport { rebind, merge } from \"../utils\";\r\n\r\nimport { change } from \"../calculator\";\r\n\r\nimport baseIndicator from \"./baseIndicator\";\r\n\r\nconst ALGORITHM_TYPE = \"Change\";\r\n\r\nexport default function() {\r\n\r\n\tconst base = baseIndicator()\r\n\t\t.type(ALGORITHM_TYPE);\r\n\r\n\tconst underlyingAlgorithm = change();\r\n\r\n\tconst mergedAlgorithm = merge()\r\n\t\t.algorithm(underlyingAlgorithm)\r\n\t\t.merge((datum, indicator) => {\r\n\t\t\tdatum.absoluteChange = indicator.absoluteChange;\r\n\t\t\tdatum.percentChange = indicator.percentChange;\r\n\t\t});\r\n\r\n\tconst indicator = function(data, options = { merge: true }) {\r\n\t\tif (options.merge) {\r\n\t\t\treturn mergedAlgorithm(data);\r\n\t\t}\r\n\t\treturn underlyingAlgorithm(data);\r\n\t};\r\n\trebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\r\n\trebind(indicator, underlyingAlgorithm, \"options\");\r\n\trebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\r\n\r\n\treturn indicator;\r\n}\r\n"]}