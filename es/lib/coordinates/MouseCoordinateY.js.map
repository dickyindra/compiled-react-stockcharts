{"version":3,"sources":["../../../../src/lib/coordinates/MouseCoordinateY.js"],"names":["React","Component","PropTypes","drawOnCanvas","renderSVG","GenericChartComponent","getMouseCanvas","isNotDefined","MouseCoordinateY","props","bind","ctx","moreProps","helper","propTypes","displayFormat","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","dx","fill","string","opacity","fontFamily","fontSize","textFill","defaultProps","arrowWidth","strokeOpacity","strokeWidth","chartId","currentCharts","mouseXY","indexOf","show","y","yScale","chartConfig","coordinate","invert","getYCoordinate","displayValue","width","stroke","x1","x2","edgeAt","type","hideLine","coordinateProps","y1","y2"],"mappings":"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","file":"MouseCoordinateY.js","sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../GenericComponent\";\r\n\r\nimport { isNotDefined } from \"../utils\";\r\n\r\nclass MouseCoordinateY extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst props = helper(this.props, moreProps);\r\n\t\tif (isNotDefined(props)) return null;\r\n\r\n\t\tdrawOnCanvas(ctx, props);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst props = helper(this.props, moreProps);\r\n\t\tif (isNotDefined(props)) return null;\r\n\r\n\t\treturn renderSVG(props);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nMouseCoordinateY.propTypes = {\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\tyAxisPad: PropTypes.number,\r\n\trectWidth: PropTypes.number,\r\n\trectHeight: PropTypes.number,\r\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\r\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\r\n\tdx: PropTypes.number,\r\n\tfill: PropTypes.string,\r\n\topacity: PropTypes.number,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\ttextFill: PropTypes.string,\r\n};\r\n\r\nMouseCoordinateY.defaultProps = {\r\n\tyAxisPad: 0,\r\n\trectWidth: 50,\r\n\trectHeight: 20,\r\n\torient: \"left\",\r\n\tat: \"left\",\r\n\tdx: 0,\r\n\tarrowWidth: 10,\r\n\tfill: \"#525252\",\r\n\topacity: 1,\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\tfontSize: 13,\r\n\ttextFill: \"#FFFFFF\",\r\n\r\n\t// stroke: \"#684F1D\",\r\n\tstrokeOpacity: 1,\r\n\tstrokeWidth: 1,\r\n};\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst { chartId } = moreProps;\r\n\tconst { currentCharts, mouseXY } = moreProps;\r\n\r\n\tif (isNotDefined(mouseXY)) return null;\r\n\tif (currentCharts.indexOf(chartId) < 0) return null;\r\n\r\n\tconst { show } = moreProps;\r\n\tif (!show) return null;\r\n\r\n\tconst y = mouseXY[1];\r\n\tconst { chartConfig: { yScale } } = moreProps;\r\n\tconst { displayFormat } = props;\r\n\r\n\tconst coordinate = displayFormat(yScale.invert(y));\r\n\r\n\treturn getYCoordinate(y, coordinate, props, moreProps);\r\n}\r\n\r\nexport function getYCoordinate(y, displayValue, props, moreProps) {\r\n\tconst { width } = moreProps;\r\n\r\n\tconst { orient, at, rectWidth, rectHeight, dx } = props;\r\n\tconst { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\r\n\tconst { stroke, strokeOpacity, strokeWidth } = props;\r\n\r\n\tconst x1 = 0, x2 = width;\r\n\tconst edgeAt = (at === \"right\")\r\n\t\t? width\r\n\t\t: 0;\r\n\r\n\tconst type = \"horizontal\";\r\n\tconst hideLine = true;\r\n\r\n\tconst coordinateProps = {\r\n\t\tcoordinate: displayValue,\r\n\t\tshow: true,\r\n\t\ttype,\r\n\t\torient,\r\n\t\tedgeAt,\r\n\t\thideLine,\r\n\t\tfill,\r\n\t\topacity,\r\n\r\n\t\tfontFamily,\r\n\t\tfontSize,\r\n\t\ttextFill,\r\n\r\n\t\tstroke,\r\n\t\tstrokeOpacity,\r\n\t\tstrokeWidth,\r\n\r\n\t\trectWidth,\r\n\t\trectHeight,\r\n\r\n\t\tarrowWidth,\r\n\t\tdx,\r\n\t\tx1,\r\n\t\tx2,\r\n\t\ty1: y,\r\n\t\ty2: y,\r\n\t};\r\n\treturn coordinateProps;\r\n}\r\n\r\nexport default MouseCoordinateY;\r\n"]}