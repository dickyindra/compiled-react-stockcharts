{"version":3,"sources":["../../../../src/lib/interactive/FibonacciRetracement.js"],"names":["React","Component","PropTypes","isDefined","isNotDefined","noop","terminate","saveNodeType","isHoverForInteractiveType","EachFibRetracement","MouseLocationIndicator","HoverTextNearMouse","FibonacciRetracement","props","handleStart","bind","handleEnd","handleDrawRetracement","handleEdge1Drag","handleEdge2Drag","handleDrag","handleDragComplete","getSelectionState","nodes","state","xyValue","current","x1","mouseMoved","setState","x2","y2","index","xy","override","echo","newXYValue","origXYValue","retracements","dx","x1Value","y1","x2Value","moreProps","rest","newRetracements","map","each","idx","selected","onComplete","onStart","e","appearance","type","concat","currentPositionStroke","currentPositionOpacity","currentPositionStrokeWidth","currentPositionRadius","enabled","hoverText","overrideIndex","hoverTextWidthDefault","defaultProps","currentRetracement","eachAppearance","eachHoverText","propTypes","bool","isRequired","width","number","func","onSelect","oneOf","object","string","array","shape","stroke","strokeWidth","strokeOpacity","fontFamily","fontSize","fontFill","edgeStroke","edgeFill","nsEdgeFill","edgeStrokeWidth","r","enable","bgHeight","bgWidth","text","selectedText"],"mappings":"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","file":"FibonacciRetracement.js","sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { isDefined, isNotDefined, noop } from \"../utils\";\r\nimport {\r\n\tterminate,\r\n\tsaveNodeType,\r\n\tisHoverForInteractiveType,\r\n} from \"./utils\";\r\nimport EachFibRetracement from \"./wrapper/EachFibRetracement\";\r\nimport MouseLocationIndicator from \"./components/MouseLocationIndicator\";\r\nimport HoverTextNearMouse from \"./components/HoverTextNearMouse\";\r\n\r\nclass FibonacciRetracement extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleStart = this.handleStart.bind(this);\r\n\t\tthis.handleEnd = this.handleEnd.bind(this);\r\n\t\tthis.handleDrawRetracement = this.handleDrawRetracement.bind(this);\r\n\r\n\t\tthis.handleEdge1Drag = this.handleEdge1Drag.bind(this);\r\n\t\tthis.handleEdge2Drag = this.handleEdge2Drag.bind(this);\r\n\r\n\t\tthis.handleDrag = this.handleDrag.bind(this);\r\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\r\n\r\n\t\tthis.terminate = terminate.bind(this);\r\n\t\tthis.getSelectionState = isHoverForInteractiveType(\"retracements\")\r\n\t\t\t.bind(this);\r\n\r\n\t\tthis.saveNodeType = saveNodeType.bind(this);\r\n\t\tthis.nodes = [];\r\n\r\n\t\tthis.state = {\r\n\t\t};\r\n\t}\r\n\thandleDrawRetracement(xyValue) {\r\n\t\tconst { current } = this.state;\r\n\t\tif (isDefined(current) && isDefined(current.x1)) {\r\n\t\t\tthis.mouseMoved = true;\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrent: {\r\n\t\t\t\t\t...current,\r\n\t\t\t\t\tx2: xyValue[0],\r\n\t\t\t\t\ty2: xyValue[1]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleDrag(index, xy) {\r\n\t\tthis.setState({\r\n\t\t\toverride: {\r\n\t\t\t\tindex,\r\n\t\t\t\t...xy\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\thandleEdge1Drag(echo, newXYValue, origXYValue) {\r\n\t\tconst { retracements } = this.props;\r\n\t\tconst { index } = echo;\r\n\r\n\t\tconst dx = origXYValue.x1Value - newXYValue.x1Value;\r\n\r\n\t\tthis.setState({\r\n\t\t\toverride: {\r\n\t\t\t\tindex,\r\n\t\t\t\tx1: retracements[index].x1 - dx,\r\n\t\t\t\ty1: retracements[index].y1,\r\n\t\t\t\tx2: retracements[index].x2,\r\n\t\t\t\ty2: retracements[index].y2\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\thandleEdge2Drag(echo, newXYValue, origXYValue) {\r\n\t\tconst { retracements } = this.props;\r\n\t\tconst { index } = echo;\r\n\r\n\t\tconst dx = origXYValue.x2Value - newXYValue.x2Value;\r\n\r\n\t\tthis.setState({\r\n\t\t\toverride: {\r\n\t\t\t\tindex,\r\n\t\t\t\tx1: retracements[index].x1,\r\n\t\t\t\ty1: retracements[index].y1,\r\n\t\t\t\tx2: retracements[index].x2 - dx,\r\n\t\t\t\ty2: retracements[index].y2\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\thandleDragComplete(moreProps) {\r\n\t\tconst { retracements } = this.props;\r\n\t\tconst { override } = this.state;\r\n\t\tif (isDefined(override)) {\r\n\t\t\tconst { index, ...rest } = override;\r\n\r\n\t\t\tconst newRetracements = retracements.map(\r\n\t\t\t\t(each, idx) =>\r\n\t\t\t\t\t(idx === index\r\n\t\t\t\t\t\t? { ...each, ...rest, selected: true }\r\n\t\t\t\t\t\t: each)\r\n\t\t\t);\r\n\t\t\tthis.setState(\r\n\t\t\t\t{\r\n\t\t\t\t\toverride: null,\r\n\t\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.props.onComplete(newRetracements, moreProps);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\thandleStart(xyValue, moreProps) {\r\n\t\tconst { current } = this.state;\r\n\t\tif (isNotDefined(current) || isNotDefined(current.x1)) {\r\n\t\t\tthis.mouseMoved = false;\r\n\t\t\tthis.setState(\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrent: {\r\n\t\t\t\t\t\tx1: xyValue[0],\r\n\t\t\t\t\t\ty1: xyValue[1],\r\n\t\t\t\t\t\tx2: null,\r\n\t\t\t\t\t\ty2: null\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.props.onStart(moreProps);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\thandleEnd(xyValue, moreProps, e) {\r\n\t\tconst { retracements, appearance, type } = this.props;\r\n\t\tconst { current } = this.state;\r\n\r\n\t\tif (this.mouseMoved && isDefined(current) && isDefined(current.x1)) {\r\n\t\t\tconst newRetracements = retracements.concat({\r\n\t\t\t\t...current,\r\n\t\t\t\tx2: xyValue[0],\r\n\t\t\t\ty2: xyValue[1],\r\n\t\t\t\tselected: true,\r\n\t\t\t\tappearance,\r\n\t\t\t\ttype,\r\n\t\t\t});\r\n\r\n\t\t\tthis.setState(\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrent: null,\r\n\t\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tthis.props.onComplete(newRetracements, moreProps, e);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { current, override } = this.state;\r\n\t\tconst { retracements } = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tappearance,\r\n\t\t\ttype\r\n\t\t} = this.props;\r\n\t\tconst {\r\n\t\t\tcurrentPositionStroke,\r\n\t\t\tcurrentPositionOpacity,\r\n\t\t\tcurrentPositionStrokeWidth,\r\n\t\t\tcurrentPositionRadius\r\n\t\t} = this.props;\r\n\r\n\t\tconst { enabled, hoverText } = this.props;\r\n\t\tconst overrideIndex = isDefined(override) ? override.index : null;\r\n\t\tconst hoverTextWidthDefault = {\r\n\t\t\t...FibonacciRetracement.defaultProps.hoverText,\r\n\t\t\t...hoverText\r\n\t\t};\r\n\r\n\t\tconst currentRetracement = isDefined(current) && isDefined(current.x2)\r\n\t\t\t? <EachFibRetracement\r\n\t\t\t\tinteractive={false}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tappearance={appearance}\r\n\t\t\t\thoverText={hoverTextWidthDefault}\r\n\t\t\t\t{...current}\r\n\t\t\t/>\r\n\t\t\t: null;\r\n\t\treturn (\r\n\t\t\t<g>\r\n\t\t\t\t{retracements.map((each, idx) => {\r\n\t\t\t\t\tconst eachAppearance = isDefined(each.appearance)\r\n\t\t\t\t\t\t? { ...appearance, ...each.appearance }\r\n\t\t\t\t\t\t: appearance;\r\n\r\n\t\t\t\t\tconst eachHoverText = isDefined(each.hoverText)\r\n\t\t\t\t\t\t? { ...hoverTextWidthDefault, ...each.hoverText }\r\n\t\t\t\t\t\t: hoverTextWidthDefault;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<EachFibRetracement\r\n\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\tref={this.saveNodeType(idx)}\r\n\t\t\t\t\t\t\tindex={idx}\r\n\t\t\t\t\t\t\ttype={each.type}\r\n\t\t\t\t\t\t\tselected={each.selected}\r\n\t\t\t\t\t\t\t{...(idx === overrideIndex ? override : each)}\r\n\t\t\t\t\t\t\thoverText={eachHoverText}\r\n\t\t\t\t\t\t\tappearance={eachAppearance}\r\n\t\t\t\t\t\t\tonDrag={this.handleDrag}\r\n\t\t\t\t\t\t\tonDragComplete={this.handleDragComplete}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t{currentRetracement}\r\n\t\t\t\t<MouseLocationIndicator\r\n\t\t\t\t\tenabled={enabled}\r\n\t\t\t\t\tsnap={false}\r\n\t\t\t\t\tr={currentPositionRadius}\r\n\t\t\t\t\tstroke={currentPositionStroke}\r\n\t\t\t\t\topacity={currentPositionOpacity}\r\n\t\t\t\t\tstrokeWidth={currentPositionStrokeWidth}\r\n\t\t\t\t\tonMouseDown={this.handleStart}\r\n\t\t\t\t\tonClick={this.handleEnd}\r\n\t\t\t\t\tonMouseMove={this.handleDrawRetracement}\r\n\t\t\t\t/>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// onClick={this.handleClick}\r\n\r\nFibonacciRetracement.propTypes = {\r\n\tenabled: PropTypes.bool.isRequired,\r\n\twidth: PropTypes.number,\r\n\r\n\tonStart: PropTypes.func,\r\n\tonComplete: PropTypes.func,\r\n\tonSelect: PropTypes.func,\r\n\r\n\ttype: PropTypes.oneOf([\r\n\t\t\"EXTEND\", // extends from -Infinity to +Infinity\r\n\t\t\"RAY\", // extends to +/-Infinity in one direction\r\n\t\t\"BOUND\" // extends between the set bounds\r\n\t]).isRequired,\r\n\thoverText: PropTypes.object.isRequired,\r\n\r\n\tcurrentPositionStroke: PropTypes.string,\r\n\tcurrentPositionStrokeWidth: PropTypes.number,\r\n\tcurrentPositionOpacity: PropTypes.number,\r\n\tcurrentPositionRadius: PropTypes.number,\r\n\r\n\tretracements: PropTypes.array.isRequired,\r\n\r\n\tappearance: PropTypes.shape({\r\n\t\tstroke: PropTypes.string.isRequired,\r\n\t\tstrokeWidth: PropTypes.number.isRequired,\r\n\t\tstrokeOpacity: PropTypes.number.isRequired,\r\n\t\tfontFamily: PropTypes.string.isRequired,\r\n\t\tfontSize: PropTypes.number.isRequired,\r\n\t\tfontFill: PropTypes.string.isRequired,\r\n\t\tedgeStroke: PropTypes.string.isRequired,\r\n\t\tedgeFill: PropTypes.string.isRequired,\r\n\t\tnsEdgeFill: PropTypes.string.isRequired,\r\n\t\tedgeStrokeWidth: PropTypes.number.isRequired,\r\n\t\tr: PropTypes.number.isRequired,\r\n\t}).isRequired\r\n};\r\n\r\nFibonacciRetracement.defaultProps = {\r\n\tenabled: true,\r\n\ttype: \"RAY\",\r\n\tretracements: [],\r\n\r\n\tonStart: noop,\r\n\tonComplete: noop,\r\n\tonSelect: noop,\r\n\r\n\thoverText: {\r\n\t\t...HoverTextNearMouse.defaultProps,\r\n\t\tenable: true,\r\n\t\tbgHeight: \"auto\",\r\n\t\tbgWidth: \"auto\",\r\n\t\ttext: \"Click to select object\",\r\n\t\tselectedText: \"\",\r\n\t},\r\n\tcurrentPositionStroke: \"#000000\",\r\n\tcurrentPositionOpacity: 1,\r\n\tcurrentPositionStrokeWidth: 3,\r\n\tcurrentPositionRadius: 4,\r\n\r\n\tappearance: {\r\n\t\tstroke: \"#000000\",\r\n\t\tstrokeWidth: 1,\r\n\t\tstrokeOpacity: 1,\r\n\t\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\t\tfontSize: 11,\r\n\t\tfontFill: \"#000000\",\r\n\t\tedgeStroke: \"#000000\",\r\n\t\tedgeFill: \"#FFFFFF\",\r\n\t\tnsEdgeFill: \"#000000\",\r\n\t\tedgeStrokeWidth: 1,\r\n\t\tr: 5,\r\n\t}\r\n};\r\n\r\nexport default FibonacciRetracement;\r\n"]}