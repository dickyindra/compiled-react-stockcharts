{"version":3,"sources":["../../../../../src/lib/interactive/wrapper/EachEquidistantChannel.js"],"names":["React","Component","PropTypes","isDefined","noop","getXValue","saveNodeType","isHover","ClickableCircle","ChannelWithArea","HoverTextNearMouse","EachEquidistantChannel","props","handleLine1Edge1Drag","bind","handleLine1Edge2Drag","handleDragStart","handleChannelDrag","handleChannelHeightChange","getEdgeCircle","handleHover","nodes","state","hover","moreProps","hovering","setState","startXY","endXY","dy","dragStart","index","onDrag","xScale","yScale","chartConfig","xAccessor","fullData","startPos","mouseXY","x1","y1","x2","y2","dx","newX1Value","newY1Value","invert","newX2Value","newY2Value","newDy","xy","dragHandler","cursor","fill","edge","appearance","edgeStroke","edgeStrokeWidth","r","selected","onDragComplete","interactive","hoverText","edgeFill","edgeFill2","stroke","strokeWidth","strokeOpacity","fillOpacity","hoverTextEnabled","enable","restHoverTextProps","hoverHandler","onHover","onUnHover","line1Edge","line2Edge","propTypes","arrayOf","number","isRequired","bool","object","shape","string","func","defaultProps","yDisplayFormat","d","toFixed"],"mappings":"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","file":"EachEquidistantChannel.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { isDefined, noop } from \"../../utils\";\r\nimport { getXValue } from \"../../utils/ChartDataUtil\";\r\nimport { saveNodeType, isHover } from \"../utils\";\r\n\r\nimport ClickableCircle from \"../components/ClickableCircle\";\r\nimport ChannelWithArea from \"../components/ChannelWithArea\";\r\nimport HoverTextNearMouse from \"../components/HoverTextNearMouse\";\r\n\r\nclass EachEquidistantChannel extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleLine1Edge1Drag = this.handleLine1Edge1Drag.bind(this);\r\n\t\tthis.handleLine1Edge2Drag = this.handleLine1Edge2Drag.bind(this);\r\n\r\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\r\n\t\tthis.handleChannelDrag = this.handleChannelDrag.bind(this);\r\n\r\n\t\tthis.handleChannelHeightChange = this.handleChannelHeightChange.bind(this);\r\n\r\n\t\tthis.getEdgeCircle = this.getEdgeCircle.bind(this);\r\n\t\tthis.handleHover = this.handleHover.bind(this);\r\n\r\n\t\tthis.isHover = isHover.bind(this);\r\n\t\tthis.saveNodeType = saveNodeType.bind(this);\r\n\t\tthis.nodes = {};\r\n\r\n\t\tthis.state = {\r\n\t\t\thover: false,\r\n\t\t};\r\n\t}\r\n\thandleHover(moreProps) {\r\n\t\tif (this.state.hover !== moreProps.hovering) {\r\n\t\t\tthis.setState({\r\n\t\t\t\thover: moreProps.hovering\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleDragStart() {\r\n\t\tconst {\r\n\t\t\tstartXY, endXY, dy,\r\n\t\t} = this.props;\r\n\r\n\t\tthis.dragStart = {\r\n\t\t\tstartXY, endXY, dy,\r\n\t\t};\r\n\t}\r\n\thandleChannelDrag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tstartXY, endXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst { xScale, chartConfig: { yScale }, xAccessor, fullData } = moreProps;\r\n\t\tconst { startPos, mouseXY } = moreProps;\r\n\r\n\t\tconst x1 = xScale(startXY[0]);\r\n\t\tconst y1 = yScale(startXY[1]);\r\n\t\tconst x2 = xScale(endXY[0]);\r\n\t\tconst y2 = yScale(endXY[1]);\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\t\tconst newX2Value = getXValue(xScale, xAccessor, [x2 - dx, y2 - dy], fullData);\r\n\t\tconst newY2Value = yScale.invert(y2 - dy);\r\n\r\n\t\t// const newDy = newY2Value - endXY[1] + this.dragStart.dy;\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: [newX1Value, newY1Value],\r\n\t\t\tendXY: [newX2Value, newY2Value],\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleLine1Edge1Drag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\t\tconst {\r\n\t\t\tstartXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst {\r\n\t\t\tstartPos, mouseXY, xAccessor,\r\n\t\t\txScale, fullData,\r\n\t\t\tchartConfig: { yScale }\r\n\t\t} = moreProps;\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst x1 = xScale(startXY[0]);\r\n\t\tconst y1 = yScale(startXY[1]);\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: [newX1Value, newY1Value],\r\n\t\t\tendXY: this.dragStart.endXY,\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleLine1Edge2Drag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\t\tconst {\r\n\t\t\tendXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst {\r\n\t\t\tstartPos, mouseXY, xAccessor,\r\n\t\t\txScale, fullData,\r\n\t\t\tchartConfig: { yScale }\r\n\t\t} = moreProps;\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst x1 = xScale(endXY[0]);\r\n\t\tconst y1 = yScale(endXY[1]);\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: this.dragStart.startXY,\r\n\t\t\tendXY: [newX1Value, newY1Value],\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleChannelHeightChange(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tstartXY, endXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst { chartConfig: { yScale } } = moreProps;\r\n\t\tconst { startPos, mouseXY } = moreProps;\r\n\r\n\t\tconst y2 = yScale(endXY[1]);\r\n\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst newY2Value = yScale.invert(y2 - dy);\r\n\r\n\t\tconst newDy = newY2Value - endXY[1] + this.dragStart.dy;\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY,\r\n\t\t\tendXY,\r\n\t\t\tdy: newDy,\r\n\t\t});\r\n\t}\r\n\tgetEdgeCircle({ xy, dragHandler, cursor, fill, edge }) {\r\n\t\tconst { hover } = this.state;\r\n\t\tconst { appearance } = this.props;\r\n\t\tconst { edgeStroke, edgeStrokeWidth, r } = appearance;\r\n\t\tconst { selected } = this.props;\r\n\t\tconst { onDragComplete } = this.props;\r\n\r\n\t\treturn <ClickableCircle\r\n\t\t\tref={this.saveNodeType(edge)}\r\n\r\n\t\t\tshow={selected || hover}\r\n\t\t\tcx={xy[0]}\r\n\t\t\tcy={xy[1]}\r\n\t\t\tr={r}\r\n\t\t\tfill={fill}\r\n\t\t\tstroke={edgeStroke}\r\n\t\t\tstrokeWidth={edgeStrokeWidth}\r\n\t\t\tinteractiveCursorClass={cursor}\r\n\r\n\t\t\tonDragStart={this.handleDragStart}\r\n\t\t\tonDrag={dragHandler}\r\n\t\t\tonDragComplete={onDragComplete} />;\r\n\t}\r\n\trender() {\r\n\t\tconst { startXY, endXY, dy } = this.props;\r\n\t\tconst { interactive, hoverText, appearance } = this.props;\r\n\t\tconst {\r\n\t\t\tedgeFill, edgeFill2,\r\n\t\t\tstroke, strokeWidth, strokeOpacity,\r\n\t\t\tfill, fillOpacity,\r\n\t\t} = appearance;\r\n\t\tconst { selected } = this.props;\r\n\t\tconst { onDragComplete } = this.props;\r\n\t\tconst { hover } = this.state;\r\n\t\tconst { enable: hoverTextEnabled, ...restHoverTextProps } = hoverText;\r\n\r\n\t\tconst hoverHandler = interactive\r\n\t\t\t? { onHover: this.handleHover, onUnHover: this.handleHover }\r\n\t\t\t: {};\r\n\r\n\t\tconst line1Edge = isDefined(startXY) && isDefined(endXY)\r\n\t\t\t? <g>\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: startXY,\r\n\t\t\t\t\tdragHandler: this.handleLine1Edge1Drag,\r\n\t\t\t\t\tcursor: \"react-stockcharts-move-cursor\",\r\n\t\t\t\t\tfill: edgeFill,\r\n\t\t\t\t\tedge: \"line1edge1\",\r\n\t\t\t\t})}\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: endXY,\r\n\t\t\t\t\tdragHandler: this.handleLine1Edge2Drag,\r\n\t\t\t\t\tcursor: \"react-stockcharts-move-cursor\",\r\n\t\t\t\t\tfill: edgeFill,\r\n\t\t\t\t\tedge: \"line1edge2\",\r\n\t\t\t\t})}\r\n\t\t\t</g>\r\n\t\t\t: null;\r\n\t\tconst line2Edge = isDefined(dy)\r\n\t\t\t? <g>\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: [startXY[0], startXY[1] + dy],\r\n\t\t\t\t\tdragHandler: this.handleChannelHeightChange,\r\n\t\t\t\t\tcursor: \"react-stockcharts-ns-resize-cursor\",\r\n\t\t\t\t\tfill: edgeFill2,\r\n\t\t\t\t\tedge: \"line2edge1\",\r\n\t\t\t\t})}\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: [endXY[0], endXY[1] + dy],\r\n\t\t\t\t\tdragHandler: this.handleChannelHeightChange,\r\n\t\t\t\t\tcursor: \"react-stockcharts-ns-resize-cursor\",\r\n\t\t\t\t\tfill: edgeFill2,\r\n\t\t\t\t\tedge: \"line2edge2\",\r\n\t\t\t\t})}\r\n\t\t\t</g>\r\n\t\t\t: null;\r\n\r\n\t\treturn <g>\r\n\t\t\t<ChannelWithArea\r\n\t\t\t\tref={this.saveNodeType(\"channel\")}\r\n\t\t\t\tselected={selected || hover}\r\n\r\n\t\t\t\t{...hoverHandler}\r\n\r\n\t\t\t\tstartXY={startXY}\r\n\t\t\t\tendXY={endXY}\r\n\t\t\t\tdy={dy}\r\n\t\t\t\tstroke={stroke}\r\n\t\t\t\tstrokeWidth={(hover || selected) ? strokeWidth + 1 : strokeWidth}\r\n\t\t\t\tstrokeOpacity={strokeOpacity}\r\n\t\t\t\tfill={fill}\r\n\t\t\t\tfillOpacity={fillOpacity}\r\n\t\t\t\tinteractiveCursorClass=\"react-stockcharts-move-cursor\"\r\n\r\n\t\t\t\tonDragStart={this.handleDragStart}\r\n\t\t\t\tonDrag={this.handleChannelDrag}\r\n\t\t\t\tonDragComplete={onDragComplete}\r\n\t\t\t/>\r\n\t\t\t{line1Edge}\r\n\t\t\t{line2Edge}\r\n\t\t\t<HoverTextNearMouse\r\n\t\t\t\tshow={hoverTextEnabled && hover && !selected}\r\n\t\t\t\t{...restHoverTextProps} />\r\n\t\t</g>;\r\n\t}\r\n}\r\n\r\nEachEquidistantChannel.propTypes = {\r\n\tstartXY: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\tendXY: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\tdy: PropTypes.number,\r\n\r\n\tinteractive: PropTypes.bool.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n\thoverText: PropTypes.object.isRequired,\r\n\r\n\tappearance: PropTypes.shape({\r\n\t\tstroke: PropTypes.string.isRequired,\r\n\t\tfillOpacity: PropTypes.number.isRequired,\r\n\t\tstrokeOpacity: PropTypes.number.isRequired,\r\n\t\tstrokeWidth: PropTypes.number.isRequired,\r\n\t\tfill: PropTypes.string.isRequired,\r\n\t\tedgeStroke: PropTypes.string.isRequired,\r\n\t\tedgeFill: PropTypes.string.isRequired,\r\n\t\tedgeFill2: PropTypes.string.isRequired,\r\n\t\tedgeStrokeWidth: PropTypes.number.isRequired,\r\n\t\tr: PropTypes.number.isRequired,\r\n\t}).isRequired,\r\n\r\n\tindex: PropTypes.number,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n};\r\n\r\nEachEquidistantChannel.defaultProps = {\r\n\tyDisplayFormat: d => d.toFixed(2),\r\n\tinteractive: true,\r\n\tselected: false,\r\n\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\thoverText: {\r\n\t\tenable: false,\r\n\t}\r\n};\r\n\r\nexport default EachEquidistantChannel;"]}