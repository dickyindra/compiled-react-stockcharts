{"version":3,"sources":["../../../../../src/lib/interactive/components/StraightLine.js"],"names":["React","Component","PropTypes","GenericChartComponent","getMouseCanvas","isDefined","noop","hexToRGBA","getStrokeDasharray","strokeDashTypes","StraightLine","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","tolerance","onHover","x1Value","x2Value","y1Value","y2Value","type","mouseXY","xScale","yScale","chartConfig","hovering","isHovering","ctx","stroke","strokeWidth","strokeOpacity","strokeDasharray","helper","x1","y1","x2","y2","lineWidth","strokeStyle","setLineDash","split","beginPath","moveTo","lineTo","selected","interactiveCursorClass","onDragStart","onDrag","onDragComplete","onUnHover","isHovering2","start","end","mouseX","mouseY","m","getSlope","b","getYIntercept","y","Math","min","max","line","generateLine","modLine","undefined","getXLineCoordinates","getRayCoordinates","getLineCoordinates","domain","xBegin","xFinish","yBegin","yFinish","propTypes","any","isRequired","string","number","oneOf","onEdge1Drag","func","onEdge2Drag","defaultClassName","r","edgeFill","edgeStroke","edgeStrokeWidth","withEdge","bool","children","defaultProps"],"mappings":"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","file":"StraightLine.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport GenericChartComponent from \"../../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../../GenericComponent\";\r\n\r\nimport {\r\n\tisDefined,\r\n\tnoop,\r\n\thexToRGBA,\r\n\tgetStrokeDasharray,\r\n\tstrokeDashTypes,\r\n} from \"../../utils\";\r\n\r\nclass StraightLine extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t\tthis.isHover = this.isHover.bind(this);\r\n\t}\r\n\tisHover(moreProps) {\r\n\t\tconst { tolerance, onHover } = this.props;\r\n\r\n\t\tif (isDefined(onHover)) {\r\n\t\t\tconst { x1Value, x2Value, y1Value, y2Value, type } = this.props;\r\n\t\t\tconst { mouseXY, xScale } = moreProps;\r\n\t\t\tconst { chartConfig: { yScale } } = moreProps;\r\n\r\n\t\t\tconst hovering = isHovering({\r\n\t\t\t\tx1Value, y1Value,\r\n\t\t\t\tx2Value, y2Value,\r\n\t\t\t\tmouseXY,\r\n\t\t\t\ttype,\r\n\t\t\t\ttolerance,\r\n\t\t\t\txScale,\r\n\t\t\t\tyScale,\r\n\t\t\t});\r\n\r\n\t\t\t// console.log(\"hovering ->\", hovering);\r\n\r\n\t\t\treturn hovering;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst { stroke, strokeWidth, strokeOpacity, strokeDasharray } = this.props;\r\n\t\tconst { x1, y1, x2, y2 } = helper(this.props, moreProps);\r\n\r\n\t\tctx.lineWidth = strokeWidth;\r\n\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\r\n\t\tctx.setLineDash(getStrokeDasharray(strokeDasharray).split(\",\"));\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x1, y1);\r\n\t\tctx.lineTo(x2, y2);\r\n\t\tctx.stroke();\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { stroke, strokeWidth, strokeOpacity, strokeDasharray } = this.props;\r\n\r\n\t\tconst lineWidth = strokeWidth;\r\n\r\n\t\tconst { x1, y1, x2, y2 } = helper(this.props, moreProps);\r\n\t\treturn (\r\n\t\t\t<line\r\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\r\n\t\t\t\tstroke={stroke} strokeWidth={lineWidth}\r\n\t\t\t\tstrokeDasharray={getStrokeDasharray(strokeDasharray)}\r\n\t\t\t\tstrokeOpacity={strokeOpacity} />\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { selected, interactiveCursorClass } = this.props;\r\n\t\tconst { onDragStart, onDrag, onDragComplete, onHover, onUnHover } = this.props;\r\n\r\n\t\treturn <GenericChartComponent\r\n\t\t\tisHover={this.isHover}\r\n\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\r\n\t\t\tinteractiveCursorClass={interactiveCursorClass}\r\n\t\t\tselected={selected}\r\n\r\n\t\t\tonDragStart={onDragStart}\r\n\t\t\tonDrag={onDrag}\r\n\t\t\tonDragComplete={onDragComplete}\r\n\t\t\tonHover={onHover}\r\n\t\t\tonUnHover={onUnHover}\r\n\r\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nexport function isHovering2(start, end, [mouseX, mouseY], tolerance) {\r\n\tconst m = getSlope(start, end);\r\n\r\n\tif (isDefined(m)) {\r\n\t\tconst b = getYIntercept(m, end);\r\n\t\tconst y = m * mouseX + b;\r\n\t\treturn (mouseY < y + tolerance)\r\n\t\t\t&& mouseY > (y - tolerance)\r\n\t\t\t&& mouseX > Math.min(start[0], end[0]) - tolerance\r\n\t\t\t&& mouseX < Math.max(start[0], end[0]) + tolerance;\r\n\t} else {\r\n\t\treturn mouseY >= Math.min(start[1], end[1])\r\n\t\t\t&& mouseY <= Math.max(start[1], end[1])\r\n\t\t\t&& mouseX < start[0] + tolerance\r\n\t\t\t&& mouseX > start[0] - tolerance;\r\n\t}\r\n}\r\n\r\nexport function isHovering({\r\n\tx1Value, y1Value,\r\n\tx2Value, y2Value,\r\n\tmouseXY,\r\n\ttype,\r\n\ttolerance,\r\n\txScale,\r\n\tyScale,\r\n}) {\r\n\r\n\tconst line = generateLine({\r\n\t\ttype,\r\n\t\tstart: [x1Value, y1Value],\r\n\t\tend: [x2Value, y2Value],\r\n\t\txScale,\r\n\t\tyScale,\r\n\t});\r\n\r\n\tconst start = [xScale(line.x1), yScale(line.y1)];\r\n\tconst end = [xScale(line.x2), yScale(line.y2)];\r\n\r\n\tconst m = getSlope(start, end);\r\n\tconst [mouseX, mouseY] = mouseXY;\r\n\r\n\tif (isDefined(m)) {\r\n\t\tconst b = getYIntercept(m, end);\r\n\t\tconst y = m * mouseX + b;\r\n\r\n\t\treturn mouseY < (y + tolerance)\r\n\t\t\t&& mouseY > (y - tolerance)\r\n\t\t\t&& mouseX > Math.min(start[0], end[0]) - tolerance\r\n\t\t\t&& mouseX < Math.max(start[0], end[0]) + tolerance;\r\n\t} else {\r\n\t\treturn mouseY >= Math.min(start[1], end[1])\r\n\t\t\t&& mouseY <= Math.max(start[1], end[1])\r\n\t\t\t&& mouseX < start[0] + tolerance\r\n\t\t\t&& mouseX > start[0] - tolerance;\r\n\t}\r\n}\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst { x1Value, x2Value, y1Value, y2Value, type } = props;\r\n\r\n\tconst { xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\tconst modLine = generateLine({\r\n\t\ttype,\r\n\t\tstart: [x1Value, y1Value],\r\n\t\tend: [x2Value, y2Value],\r\n\t\txScale,\r\n\t\tyScale,\r\n\t});\r\n\r\n\tconst x1 = xScale(modLine.x1);\r\n\tconst y1 = yScale(modLine.y1);\r\n\tconst x2 = xScale(modLine.x2);\r\n\tconst y2 = yScale(modLine.y2);\r\n\r\n\treturn {\r\n\t\tx1, y1, x2, y2\r\n\t};\r\n}\r\n\r\nexport function getSlope(start, end) {\r\n\tconst m /* slope */ = end[0] === start[0]\r\n\t\t? undefined\r\n\t\t: (end[1] - start[1]) / (end[0] - start[0]);\r\n\treturn m;\r\n}\r\nexport function getYIntercept(m, end) {\r\n\tconst b /* y intercept */ = -1 * m * end[0] + end[1];\r\n\treturn b;\r\n}\r\n\r\nexport function generateLine({\r\n\ttype, start, end, xScale, yScale\r\n}) {\r\n\tconst m /* slope */ = getSlope(start, end);\r\n\t// console.log(end[0] - start[0], m)\r\n\tconst b /* y intercept */ = getYIntercept(m, start);\r\n\r\n\tswitch (type) {\r\n\t\tcase \"XLINE\":\r\n\t\t\treturn getXLineCoordinates({\r\n\t\t\t\ttype, start, end, xScale, yScale, m, b\r\n\t\t\t});\r\n\t\tcase \"RAY\":\r\n\t\t\treturn getRayCoordinates({\r\n\t\t\t\ttype, start, end, xScale, yScale, m, b\r\n\t\t\t});\r\n\t\tcase \"LINE\":\r\n\t\t\treturn getLineCoordinates({\r\n\t\t\t\ttype, start, end, xScale, yScale, m, b\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nfunction getXLineCoordinates({\r\n\tstart, end, xScale, yScale, m, b\r\n}) {\r\n\tconst [xBegin, xFinish] = xScale.domain();\r\n\tconst [yBegin, yFinish] = yScale.domain();\r\n\r\n\tif (end[0] === start[0]) {\r\n\t\treturn {\r\n\t\t\tx1: end[0], y1: yBegin,\r\n\t\t\tx2: end[0], y2: yFinish,\r\n\t\t};\r\n\t}\r\n\tconst [x1, x2] = end[0] > start[0]\r\n\t\t? [xBegin, xFinish]\r\n\t\t: [xFinish, xBegin];\r\n\r\n\treturn {\r\n\t\tx1, y1: m * x1 + b,\r\n\t\tx2, y2: m * x2 + b\r\n\t};\r\n}\r\n\r\nfunction getRayCoordinates({\r\n\tstart, end, xScale, yScale, m, b\r\n}) {\r\n\tconst [xBegin, xFinish] = xScale.domain();\r\n\tconst [yBegin, yFinish] = yScale.domain();\r\n\r\n\tconst x1 = start[0];\r\n\tif (end[0] === start[0]) {\r\n\t\treturn {\r\n\t\t\tx1,\r\n\t\t\ty1: start[1],\r\n\t\t\tx2: x1,\r\n\t\t\ty2: end[1] > start[1] ? yFinish : yBegin,\r\n\t\t};\r\n\t}\r\n\r\n\tconst x2 = end[0] > start[0]\r\n\t\t? xFinish\r\n\t\t: xBegin;\r\n\r\n\treturn {\r\n\t\tx1, y1: m * x1 + b,\r\n\t\tx2, y2: m * x2 + b\r\n\t};\r\n}\r\n\r\nfunction getLineCoordinates({\r\n\tstart, end\r\n}) {\r\n\r\n\tconst [x1, y1] = start;\r\n\tconst [x2, y2] = end;\r\n\tif (end[0] === start[0]) {\r\n\t\treturn {\r\n\t\t\tx1,\r\n\t\t\ty1: start[1],\r\n\t\t\tx2: x1,\r\n\t\t\ty2: end[1],\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tx1, y1,\r\n\t\tx2, y2,\r\n\t};\r\n}\r\n\r\nStraightLine.propTypes = {\r\n\tx1Value: PropTypes.any.isRequired,\r\n\tx2Value: PropTypes.any.isRequired,\r\n\ty1Value: PropTypes.any.isRequired,\r\n\ty2Value: PropTypes.any.isRequired,\r\n\r\n\tinteractiveCursorClass: PropTypes.string,\r\n\tstroke: PropTypes.string.isRequired,\r\n\tstrokeWidth: PropTypes.number.isRequired,\r\n\tstrokeOpacity: PropTypes.number.isRequired,\r\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\r\n\ttype: PropTypes.oneOf([\r\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\r\n\t\t\"RAY\", // extends to +/-Infinity in one direction\r\n\t\t\"LINE\", // extends between the set bounds\r\n\t]).isRequired,\r\n\r\n\tonEdge1Drag: PropTypes.func.isRequired,\r\n\tonEdge2Drag: PropTypes.func.isRequired,\r\n\tonDragStart: PropTypes.func.isRequired,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n\tonHover: PropTypes.func,\r\n\tonUnHover: PropTypes.func,\r\n\r\n\tdefaultClassName: PropTypes.string,\r\n\r\n\tr: PropTypes.number.isRequired,\r\n\tedgeFill: PropTypes.string.isRequired,\r\n\tedgeStroke: PropTypes.string.isRequired,\r\n\tedgeStrokeWidth: PropTypes.number.isRequired,\r\n\twithEdge: PropTypes.bool.isRequired,\r\n\tchildren: PropTypes.func.isRequired,\r\n\ttolerance: PropTypes.number.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n};\r\n\r\nStraightLine.defaultProps = {\r\n\tonEdge1Drag: noop,\r\n\tonEdge2Drag: noop,\r\n\tonDragStart: noop,\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\r\n\tedgeStrokeWidth: 3,\r\n\tedgeStroke: \"#000000\",\r\n\tedgeFill: \"#FFFFFF\",\r\n\tr: 10,\r\n\twithEdge: false,\r\n\tstrokeWidth: 1,\r\n\tstrokeDasharray: \"Solid\",\r\n\tchildren: noop,\r\n\ttolerance: 7,\r\n\tselected: false,\r\n};\r\n\r\nexport default StraightLine;\r\n"]}