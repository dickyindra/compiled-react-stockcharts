{"version":3,"sources":["../../../../src/lib/calculator/sma.js"],"names":["mean","slidingWindow","SMA","defaultOptions","options","calculator","data","windowSize","sourcePath","average","accumulator","values","undefinedLength","x","arguments","length"],"mappings":";;AAEA,SAASA,IAAT,QAAqB,UAArB;;AAEA,SAASC,aAAT,QAA8B,UAA9B;AACA,SAASC,OAAOC,cAAhB,QAAsC,gCAAtC;;AAEA,eAAe,YAAW;;AAEzB,KAAIC,UAAUD,cAAd;;AAEA,UAASE,UAAT,CAAoBC,IAApB,EAA0B;AAAA,iBACUF,OADV;AAAA,MACjBG,UADiB,YACjBA,UADiB;AAAA,MACLC,UADK,YACLA,UADK;;;AAGzB,MAAMC,UAAUR,gBACdM,UADc,CACHA,UADG,EAEdC,UAFc,CAEHA,UAFG,EAGdE,WAHc,CAGF;AAAA,UAAUV,KAAKW,MAAL,CAAV;AAAA,GAHE,CAAhB;;AAKA,SAAOF,QAAQH,IAAR,CAAP;AACA;AACDD,YAAWO,eAAX,GAA6B,YAAW;AAAA,kBAChBR,OADgB;AAAA,MAC/BG,UAD+B,aAC/BA,UAD+B;;AAEvC,SAAOA,aAAa,CAApB;AACA,EAHD;AAIAF,YAAWD,OAAX,GAAqB,UAASS,CAAT,EAAY;AAChC,MAAI,CAACC,UAAUC,MAAf,EAAuB;AACtB,UAAOX,OAAP;AACA;AACDA,yBAAeD,cAAf,EAAkCU,CAAlC;AACA,SAAOR,UAAP;AACA,EAND;;AAQA,QAAOA,UAAP;AACA","file":"sma.js","sourcesContent":["\r\n\r\nimport { mean } from \"d3-array\";\r\n\r\nimport { slidingWindow } from \"../utils\";\r\nimport { SMA as defaultOptions } from \"./defaultOptionsForComputation\";\r\n\r\nexport default function() {\r\n\r\n\tlet options = defaultOptions;\r\n\r\n\tfunction calculator(data) {\r\n\t\tconst { windowSize, sourcePath } = options;\r\n\r\n\t\tconst average = slidingWindow()\r\n\t\t\t.windowSize(windowSize)\r\n\t\t\t.sourcePath(sourcePath)\r\n\t\t\t.accumulator(values => mean(values));\r\n\r\n\t\treturn average(data);\r\n\t}\r\n\tcalculator.undefinedLength = function() {\r\n\t\tconst { windowSize } = options;\r\n\t\treturn windowSize - 1;\r\n\t};\r\n\tcalculator.options = function(x) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn options;\r\n\t\t}\r\n\t\toptions = { ...defaultOptions, ...x };\r\n\t\treturn calculator;\r\n\t};\r\n\r\n\treturn calculator;\r\n}\r\n"]}