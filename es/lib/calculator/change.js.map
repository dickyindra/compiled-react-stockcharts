{"version":3,"sources":["../../../../src/lib/calculator/change.js"],"names":["slidingWindow","Change","defaultOptions","options","calculator","data","sourcePath","algo","windowSize","accumulator","prev","curr","absoluteChange","percentChange","newData","undefinedLength","x","arguments","length"],"mappings":";;;;AAEA,SAASA,aAAT,QAA8B,UAA9B;AACA,SAASC,UAAUC,cAAnB,QAAyC,gCAAzC;;AAEA,eAAe,YAAW;AACzB,KAAIC,UAAUD,cAAd;;AAEA,UAASE,UAAT,CAAoBC,IAApB,EAA0B;AAAA,iBACFF,OADE;AAAA,MACjBG,UADiB,YACjBA,UADiB;;;AAGzB,MAAMC,OAAOP,gBACXQ,UADW,CACA,CADA,EAEXF,UAFW,CAEAA,UAFA,EAGXG,WAHW,CAGC,gBAAkB;AAAA;AAAA,OAAhBC,IAAgB;AAAA,OAAVC,IAAU;;AAC9B,OAAMC,iBAAiBD,OAAOD,IAA9B;AACA,OAAMG,gBAAgBD,iBAAiB,GAAjB,GAAuBF,IAA7C;AACA,UAAO,EAAEE,8BAAF,EAAkBC,4BAAlB,EAAP;AACA,GAPW,CAAb;;AASA,MAAMC,UAAUP,KAAKF,IAAL,CAAhB;;AAEA,SAAOS,OAAP;AACA;AACDV,YAAWW,eAAX,GAA6B,YAAW;AACvC,SAAO,CAAP;AACA,EAFD;AAGAX,YAAWD,OAAX,GAAqB,UAASa,CAAT,EAAY;AAChC,MAAI,CAACC,UAAUC,MAAf,EAAuB;AACtB,UAAOf,OAAP;AACA;AACDA,yBAAeD,cAAf,EAAkCc,CAAlC;AACA,SAAOZ,UAAP;AACA,EAND;;AAQA,QAAOA,UAAP;AACA","file":"change.js","sourcesContent":["\r\n\r\nimport { slidingWindow } from \"../utils\";\r\nimport { Change as defaultOptions } from \"./defaultOptionsForComputation\";\r\n\r\nexport default function() {\r\n\tlet options = defaultOptions;\r\n\r\n\tfunction calculator(data) {\r\n\t\tconst { sourcePath } = options;\r\n\r\n\t\tconst algo = slidingWindow()\r\n\t\t\t.windowSize(2)\r\n\t\t\t.sourcePath(sourcePath)\r\n\t\t\t.accumulator(([prev, curr]) => {\r\n\t\t\t\tconst absoluteChange = curr - prev;\r\n\t\t\t\tconst percentChange = absoluteChange * 100 / prev;\r\n\t\t\t\treturn { absoluteChange, percentChange };\r\n\t\t\t});\r\n\r\n\t\tconst newData = algo(data);\r\n\r\n\t\treturn newData;\r\n\t}\r\n\tcalculator.undefinedLength = function() {\r\n\t\treturn 1;\r\n\t};\r\n\tcalculator.options = function(x) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn options;\r\n\t\t}\r\n\t\toptions = { ...defaultOptions, ...x };\r\n\t\treturn calculator;\r\n\t};\r\n\r\n\treturn calculator;\r\n}\r\n"]}