{"version":3,"sources":["../../../../src/lib/calculator/forceIndex.js"],"names":["slidingWindow","path","ForceIndex","defaultOptions","options","calculator","data","sourcePath","volumePath","source","volume","forceIndexCalulator","windowSize","accumulator","prev","curr","forceIndex","undefinedLength","x","arguments","length"],"mappings":";;;;AAEA,SAASA,aAAT,EAAwBC,IAAxB,QAAoC,UAApC;AACA,SAASC,cAAcC,cAAvB,QAA6C,gCAA7C;;AAEA,eAAe,YAAW;;AAEzB,KAAIC,UAAUD,cAAd;;AAEA,UAASE,UAAT,CAAoBC,IAApB,EAA0B;AAAA,iBACUF,OADV;AAAA,MACjBG,UADiB,YACjBA,UADiB;AAAA,MACLC,UADK,YACLA,UADK;;;AAGzB,MAAMC,SAASR,KAAKM,UAAL,CAAf;AACA,MAAMG,SAAST,KAAKO,UAAL,CAAf;;AAEA,MAAMG,sBAAsBX,gBAC1BY,UAD0B,CACf,CADe,EAE1BC,WAF0B,CAEd;AAAA;AAAA,OAAEC,IAAF;AAAA,OAAQC,IAAR;;AAAA,UAAkB,CAACN,OAAOM,IAAP,IAAeN,OAAOK,IAAP,CAAhB,IAAgCJ,OAAOK,IAAP,CAAlD;AAAA,GAFc,CAA5B;;AAIA,MAAMC,aAAaL,oBAAoBL,IAApB,CAAnB;;AAEA,SAAOU,UAAP;AACA;AACDX,YAAWY,eAAX,GAA6B,YAAW;AACvC,SAAO,CAAP;AACA,EAFD;AAGAZ,YAAWD,OAAX,GAAqB,UAASc,CAAT,EAAY;AAChC,MAAI,CAACC,UAAUC,MAAf,EAAuB;AACtB,UAAOhB,OAAP;AACA;AACDA,yBAAeD,cAAf,EAAkCe,CAAlC;AACA,SAAOb,UAAP;AACA,EAND;;AAQA,QAAOA,UAAP;AACA","file":"forceIndex.js","sourcesContent":["\r\n\r\nimport { slidingWindow, path } from \"../utils\";\r\nimport { ForceIndex as defaultOptions } from \"./defaultOptionsForComputation\";\r\n\r\nexport default function() {\r\n\r\n\tlet options = defaultOptions;\r\n\r\n\tfunction calculator(data) {\r\n\t\tconst { sourcePath, volumePath } = options;\r\n\r\n\t\tconst source = path(sourcePath);\r\n\t\tconst volume = path(volumePath);\r\n\r\n\t\tconst forceIndexCalulator = slidingWindow()\r\n\t\t\t.windowSize(2)\r\n\t\t\t.accumulator(([prev, curr]) => (source(curr) - source(prev)) * volume(curr));\r\n\r\n\t\tconst forceIndex = forceIndexCalulator(data);\r\n\r\n\t\treturn forceIndex;\r\n\t}\r\n\tcalculator.undefinedLength = function() {\r\n\t\treturn 2;\r\n\t};\r\n\tcalculator.options = function(x) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn options;\r\n\t\t}\r\n\t\toptions = { ...defaultOptions, ...x };\r\n\t\treturn calculator;\r\n\t};\r\n\r\n\treturn calculator;\r\n}\r\n"]}