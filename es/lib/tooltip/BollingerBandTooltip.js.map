{"version":3,"sources":["../../../../src/lib/tooltip/BollingerBandTooltip.js"],"names":["React","Component","PropTypes","format","displayValuesFor","GenericChartComponent","isDefined","functor","ToolTipText","ToolTipTSpanLabel","BollingerBandTooltip","props","renderSVG","bind","moreProps","onClick","displayFormat","yAccessor","options","textFill","labelFill","chartConfig","width","height","currentItem","top","middle","bottom","item","originProp","origin","x","y","sourcePath","windowSize","multiplier","movingAverageType","tooltipLabel","tooltipValue","className","fontFamily","fontSize","propTypes","string","func","isRequired","array","shape","number","defaultProps"],"mappings":"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","file":"BollingerBandTooltip.js","sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { format } from \"d3-format\";\r\nimport displayValuesFor from \"./displayValuesFor\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\n\r\nimport { isDefined, functor } from \"../utils\";\r\nimport ToolTipText from \"./ToolTipText\";\r\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\r\n\r\nclass BollingerBandTooltip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { onClick, displayFormat, yAccessor, options, textFill, labelFill } = this.props;\r\n\t\tconst { displayValuesFor } = this.props;\r\n\r\n\t\tconst { chartConfig: { width, height } } = moreProps;\r\n\r\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\r\n\r\n\t\tlet top, middle, bottom;\r\n\t\ttop = middle = bottom = \"n/a\";\r\n\r\n\t\tif (isDefined(currentItem)\r\n\t\t\t\t&& isDefined(yAccessor(currentItem))) {\r\n\t\t\tconst item = yAccessor(currentItem);\r\n\t\t\ttop = displayFormat(item.top);\r\n\t\t\tmiddle = displayFormat(item.middle);\r\n\t\t\tbottom = displayFormat(item.bottom);\r\n\t\t}\r\n\r\n\t\tconst { origin: originProp } = this.props;\r\n\t\tconst origin = functor(originProp);\r\n\t\tconst [x, y] = origin(width, height);\r\n\r\n\t\tconst { sourcePath, windowSize, multiplier, movingAverageType } = options;\r\n\t\tconst tooltipLabel = `BB(${sourcePath}, ${windowSize}, ${multiplier}, ${movingAverageType}): `;\r\n\t\tconst tooltipValue = `${top}, ${middle}, ${bottom}`;\r\n\t\treturn (\r\n\t\t\t<g transform={`translate(${ x }, ${ y })`}\r\n\t\t\t\tclassName={this.props.className} onClick={onClick}>\r\n\t\t\t\t<ToolTipText x={0} y={0}\r\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{tooltipLabel}</ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fill={textFill}>{tooltipValue}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tdrawOn={[\"mousemove\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nBollingerBandTooltip.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tyAccessor: PropTypes.func.isRequired,\r\n\tdisplayValuesFor: PropTypes.func,\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\torigin: PropTypes.array.isRequired,\r\n\tonClick: PropTypes.func,\r\n\toptions: PropTypes.shape({\r\n\t\tsourcePath: PropTypes.string.isRequired,\r\n\t\twindowSize: PropTypes.number.isRequired,\r\n\t\tmultiplier: PropTypes.number.isRequired,\r\n\t\tmovingAverageType: PropTypes.string.isRequired,\r\n\t}).isRequired,\r\n\ttextFill: PropTypes.string,\r\n\tlabelFill: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n};\r\n\r\nBollingerBandTooltip.defaultProps = {\r\n\tclassName: \"react-stockcharts-tooltip react-stockcharts-bollingerband-tooltip\",\r\n\tdisplayFormat: format(\".2f\"),\r\n\tdisplayValuesFor: displayValuesFor,\r\n\torigin: [0, 10],\r\n};\r\n\r\nexport default BollingerBandTooltip;\r\n"]}