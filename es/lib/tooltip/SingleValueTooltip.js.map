{"version":3,"sources":["../../../../src/lib/tooltip/SingleValueTooltip.js"],"names":["React","Component","PropTypes","format","displayValuesFor","GenericChartComponent","ToolTipText","ToolTipTSpanLabel","isDefined","identity","noop","functor","SingleValueTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","labelFill","valueFill","className","xDisplayFormat","yDisplayFormat","xLabel","yLabel","xAccessor","yAccessor","chartConfig","width","height","currentItem","xDisplayValue","yDisplayValue","originProp","origin","x","y","propTypes","func","isRequired","string","oneOfType","array","number","defaultProps"],"mappings":"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","file":"SingleValueTooltip.js","sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { format } from \"d3-format\";\r\nimport displayValuesFor from \"./displayValuesFor\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\n\r\nimport ToolTipText from \"./ToolTipText\";\r\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\r\nimport { isDefined, identity, noop, functor } from \"../utils\";\r\n\r\nclass SingleValueTooltip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\r\n\t\tconst { onClick, fontFamily, fontSize, labelFill, valueFill, className } = this.props;\r\n\t\tconst { xDisplayFormat, yDisplayFormat, xLabel, yLabel, xAccessor, yAccessor } = this.props;\r\n\t\tconst { displayValuesFor } = this.props;\r\n\r\n\t\tconst { chartConfig: { width, height } } = moreProps;\r\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\r\n\r\n\t\tconst xDisplayValue = isDefined(currentItem) && isDefined(xAccessor(currentItem)) ? xDisplayFormat(xAccessor(currentItem)) : \"n/a\";\r\n\t\tconst yDisplayValue = isDefined(currentItem) && isDefined(yAccessor(currentItem)) ? yDisplayFormat(yAccessor(currentItem)) : \"n/a\";\r\n\r\n\t\tconst { origin: originProp } = this.props;\r\n\t\tconst origin = functor(originProp);\r\n\t\tconst [x, y] = origin(width, height);\r\n\r\n\t\treturn (\r\n\t\t\t<g className={className} transform={`translate(${ x }, ${ y })`} onClick={onClick}>\r\n\t\t\t\t<ToolTipText x={0} y={0}\r\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t\t{ xLabel ? <ToolTipTSpanLabel x={0} dy=\"5\" fill={labelFill}>{`${xLabel}: `}</ToolTipTSpanLabel> : null}\r\n\t\t\t\t\t{ xLabel ? <tspan fill={valueFill}>{`${xDisplayValue} `}</tspan> : null}\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{`${yLabel}: `}</ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fill={valueFill} >{yDisplayValue}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tdrawOn={[\"mousemove\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nSingleValueTooltip.propTypes = {\r\n\txDisplayFormat: PropTypes.func,\r\n\tyDisplayFormat: PropTypes.func.isRequired,\r\n\txLabel: PropTypes.string,\r\n\tyLabel: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.func\r\n\t]).isRequired,\r\n\tlabelFill: PropTypes.string.isRequired,\r\n\tvalueFill: PropTypes.string,\r\n\torigin: PropTypes.oneOfType([\r\n\t\tPropTypes.array,\r\n\t\tPropTypes.func\r\n\t]).isRequired,\r\n\tclassName: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\tonClick: PropTypes.func,\r\n\tdisplayValuesFor: PropTypes.func,\r\n\txAccessor: PropTypes.func,\r\n\tyAccessor: PropTypes.func,\r\n};\r\n\r\nSingleValueTooltip.defaultProps = {\r\n\torigin: [0, 0],\r\n\tlabelFill: \"#4682B4\",\r\n\tvalueFill: \"#000000\",\r\n\tyDisplayFormat: format(\".2f\"),\r\n\tdisplayValuesFor: displayValuesFor,\r\n\txAccessor: noop,\r\n\tyAccessor: identity,\r\n\tclassName: \"react-stockcharts-tooltip\",\r\n};\r\n\r\nexport default SingleValueTooltip;\r\n"]}