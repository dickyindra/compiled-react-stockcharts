{"version":3,"sources":["../../../../src/lib/tooltip/StochasticTooltip.js"],"names":["format","React","Component","PropTypes","displayValuesFor","GenericChartComponent","functor","ToolTipText","ToolTipTSpanLabel","StochasticTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","yAccessor","displayFormat","label","className","options","appearance","labelFill","chartConfig","width","height","currentItem","stroke","stochastic","K","D","originProp","origin","x","y","kLine","windowSize","kWindowSize","dLine","dWindowSize","propTypes","oneOfType","array","func","isRequired","string","number","shape","defaultProps"],"mappings":"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","file":"StochasticTooltip.js","sourcesContent":["\r\n\r\nimport { format } from \"d3-format\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport displayValuesFor from \"./displayValuesFor\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\n\r\nimport { functor } from \"../utils\";\r\n\r\nimport ToolTipText from \"./ToolTipText\";\r\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\r\n\r\nclass StochasticTooltip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { onClick, fontFamily, fontSize, yAccessor, displayFormat, label } = this.props;\r\n\t\tconst { className, options, appearance, labelFill } = this.props;\r\n\t\tconst { displayValuesFor } = this.props;\r\n\t\tconst { chartConfig: { width, height } } = moreProps;\r\n\r\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\r\n\t\tconst { stroke } = appearance;\r\n\t\tconst stochastic = currentItem && yAccessor(currentItem);\r\n\r\n\t\tconst K = (stochastic && stochastic.K && displayFormat(stochastic.K)) || \"n/a\";\r\n\t\tconst D = (stochastic && stochastic.D && displayFormat(stochastic.D)) || \"n/a\";\r\n\r\n\t\tconst { origin: originProp } = this.props;\r\n\t\tconst origin = functor(originProp);\r\n\t\tconst [x, y] = origin(width, height);\r\n\r\n\t\treturn (\r\n\t\t\t<g className={className} transform={`translate(${ x }, ${ y })`} onClick={onClick}>\r\n\t\t\t\t<ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{`${ label } %K(`}</ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fill={stroke.kLine}>{`${options.windowSize}, ${options.kWindowSize}`}</tspan>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fill={stroke.kLine}>{K}</tspan>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}> %D (</ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fill={stroke.dLine}>{options.dWindowSize}</tspan>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fill={stroke.dLine}>{D}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tdrawOn={[\"mousemove\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nStochasticTooltip.propTypes = {\r\n\torigin: PropTypes.oneOfType([\r\n\t\tPropTypes.array,\r\n\t\tPropTypes.func\r\n\t]).isRequired,\r\n\tclassName: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\tlabelFill: PropTypes.string,\r\n\r\n\tonClick: PropTypes.func,\r\n\tyAccessor: PropTypes.func.isRequired,\r\n\toptions: PropTypes.shape({\r\n\t\twindowSize: PropTypes.number.isRequired,\r\n\t\tkWindowSize: PropTypes.number.isRequired,\r\n\t\tdWindowSize: PropTypes.number.isRequired,\r\n\t}).isRequired,\r\n\tappearance: PropTypes.shape({\r\n\t\tstroke: {\r\n\t\t\tdLine: PropTypes.string.isRequired,\r\n\t\t\tkLine: PropTypes.string.isRequired,\r\n\t\t}.isRequired,\r\n\t}).isRequired,\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\tdisplayValuesFor: PropTypes.func,\r\n\tlabel: PropTypes.string.isRequired,\r\n};\r\n\r\nStochasticTooltip.defaultProps = {\r\n\tdisplayFormat: format(\".2f\"),\r\n\tdisplayValuesFor: displayValuesFor,\r\n\torigin: [0, 0],\r\n\tclassName: \"react-stockcharts-tooltip\",\r\n\tlabel: \"STO\",\r\n};\r\n\r\nexport default StochasticTooltip;\r\n"]}